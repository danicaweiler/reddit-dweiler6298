(this["webpackJsonpreddit-webapp"]=this["webpackJsonpreddit-webapp"]||[]).push([[0],{13:function(t,e,i){},14:function(t,e,i){},16:function(t,e,i){"use strict";i.r(e);var a=i(1),n=i.n(a),s=i(8),c=i.n(s),r=(i(13),i(14),i(0));var o=function(){return Object(r.jsx)("div",{})},d=i(3),l=i(4),u=i(2),h=i(6),b=i(5),j=function(t){Object(h.a)(i,t);var e=Object(b.a)(i);function i(t){var a;return Object(d.a)(this,i),(a=e.call(this,t)).state={items:[]},a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.favourite=a.favourite.bind(Object(u.a)(a)),a}return Object(l.a)(i,[{key:"handleSubmit",value:function(){var t=this,e=document.getElementById("sub").value;fetch("https://www.reddit.com/r/"+e+"/hot.json?limit=10").then((function(t){return t.json()})).then((function(e){t.setState({isLoaded:!0,items:e.data.children})})).catch((function(t){console.log(t)}))}},{key:"componentDidMount",value:function(){this.SubReddit()}},{key:"SubReddit",value:function(){this.setState({isLoaded:!0})}},{key:"favourite",value:function(t){console.log("This was favourited: "+t);var e=JSON.parse(localStorage.getItem("favourites"));null!=e?e.push(t):e=[t],localStorage.setItem("favourites",JSON.stringify(e)),window.location.reload()}},{key:"render",value:function(){var t=this,e=this.state,i=e.error,a=e.isLoaded,n=e.items;return i?Object(r.jsxs)("div",{children:["Error: ",i.message]}):a?Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"App",children:Object(r.jsx)("header",{className:"App-header",children:Object(r.jsxs)("label",{htmlFor:"id",children:[" Subreddit:",Object(r.jsx)("input",{id:"sub",name:"sub",type:"text",className:"form-control"}),Object(r.jsx)("button",{className:"btn btn-primary",type:"submit",onClick:this.handleSubmit,children:" Get "})]})})}),Object(r.jsx)("h1",{children:"Sub-Reddits"}),Object(r.jsx)("ul",{id:"sublist",children:n.map((function(e){return Object(r.jsxs)("li",{id:e.data.id,children:[Object(r.jsxs)("a",{id:e.data.id+"title",className:"title",href:e.data.url,children:[" ",e.data.title," "]}),Object(r.jsxs)("div",{id:e.data.id+"author",className:"author",children:[" ",e.data.author," "]}),Object(r.jsxs)("div",{id:e.data.id+"content",className:"content",children:[" ",e.data.self_text," "]}),Object(r.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){return t.favourite(e.data.id)},children:" Favourite "})]},e.data.id)}))})]}):Object(r.jsx)("div",{children:"Loading..."})}}]),i}(n.a.Component),v=function(t){Object(h.a)(i,t);var e=Object(b.a)(i);function i(t){var a;return Object(d.a)(this,i),(a=e.call(this,t)).remove=a.remove.bind(Object(u.a)(a)),a.state={items:[],reload:!1},a}return Object(l.a)(i,[{key:"componentDidMount",value:function(){var t=this,e=JSON.parse(localStorage.getItem("favourites"));null!=e&&e.forEach((function(e){fetch("https://www.reddit.com/comments/"+e+".json").then((function(t){return t.json()})).then((function(e){var i=t.state.items;i.push(e[0].data),t.setState({isLoaded:!0,items:i,reload:!1})})).catch((function(t){console.log(t)}))}))}},{key:"Favourites",value:function(){}},{key:"render",value:function(){var t=this.state.items;return null!=t&&t.length>0?this.WithFavourites(t):this.NoFavourites()}},{key:"NoFavourites",value:function(){return Object(r.jsx)("div",{},"emptyFav")}},{key:"WithFavourites",value:function(t){var e=this,i=this.state.items;return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Favourites"}),Object(r.jsx)("ul",{children:i.map((function(t){return Object(r.jsxs)("li",{id:t.children[0].data.id,children:[Object(r.jsxs)("a",{id:t.children[0].data.id+"Ftitle",className:"title",href:t.children[0].data.url,children:[" ",t.children[0].data.title," "]}),Object(r.jsxs)("div",{id:t.children[0].data.id+"Fauthor",className:"author",children:[" ",t.children[0].data.author," "]}),Object(r.jsxs)("div",{id:t.children[0].data.id+"Fcontent",className:"content",children:[" ",t.children[0].data.self_text," "]}),Object(r.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){return e.remove(t.children[0].data.id)},children:" Remove "})]},t.children[0].data.id)}))},"favs")]},"hasFavs")}},{key:"remove",value:function(t){console.log("Remove: "+t);var e=JSON.parse(localStorage.getItem("favourites"));if(null!=e){var i=e.indexOf(t);i>-1&&e.splice(i,1),localStorage.setItem("favourites",JSON.stringify(e)),this.setState({reload:!0})}}}]),i}(n.a.Component),m=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,17)).then((function(e){var i=e.getCLS,a=e.getFID,n=e.getFCP,s=e.getLCP,c=e.getTTFB;i(t),a(t),n(t),s(t),c(t)}))};c.a.render(Object(r.jsxs)(n.a.StrictMode,{children:[Object(r.jsx)(o,{}),Object(r.jsx)(j,{}),Object(r.jsx)(v,{})]}),document.getElementById("root")),m()}},[[16,1,2]]]);
//# sourceMappingURL=main.fc56e256.chunk.js.map